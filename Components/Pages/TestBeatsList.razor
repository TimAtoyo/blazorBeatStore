@page "/beats"
@inject IBeatService BeatService

<title>List Of Beats</title>

@if (beats == null)
{
    <h3> loading... </h3>
}
else if (beats.Count() == 0)
{
    <h3>There are no beats currently to show!</h3>
}else 
{
    <ul>
        @foreach(var beat in beats)
        {
            <li>@beat.Title</li>
            <li>@beat.Genre</li>
        }
    </ul>
}


@code
{
    IEnumerable<Beat>? beats = null;

    protected override async Task OnInitializedAsync()
    {
        beats = await BeatService.GetBeatListAsync();
    }
}
